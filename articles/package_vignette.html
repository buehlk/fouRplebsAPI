<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fouRplebsAPI">
<title>fouRplebsAPI • fouRplebsAPI</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="fouRplebsAPI">
<meta property="og:description" content="fouRplebsAPI">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fouRplebsAPI</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/package_vignette.html">fouRplebsAPI</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/buehlk/fouRplebsAPI/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>fouRplebsAPI</h1>
                        <h4 data-toc-skip class="author">Kilian Buehling</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/buehlk/fouRplebsAPI/blob/HEAD/vignettes/package_vignette.Rmd" class="external-link"><code>vignettes/package_vignette.Rmd</code></a></small>
      <div class="d-none name"><code>package_vignette.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/buehlk/fouRplebsAPI" class="external-link">fouRplebsAPI</a></span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="fourplebsapi">fouRplebsAPI<a class="anchor" aria-label="anchor" href="#fourplebsapi"></a>
</h2>
<!-- badges: start -->
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable.svg" alt="Lifecycle: experimental"></a> <a href="https://github.com/buehlk/fouRplebsAPI/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/buehlk/fouRplebsAPI/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <!-- badges: end --></p>
<p>The R package fouRplebsAPI enables researchers to query the 4chan database archived by <a href="https://www.4plebs.org/" class="external-link">4plebs.org</a>. This database is the largest ongoing archive of the ever-disappearing posts on the imageboard 4chan. With this package researchers can use the detailed search functionalities offered by 4plebs and retrieve structured data of the communication on 4chan.</p>
<p>The package is based on <a href="https://4plebs.tech/foolfuuka/" class="external-link">4plebs API documentation</a>.</p>
<p>The 4chan boards currently covered by 4plebs are:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Board.name</th>
<th align="left">Abbreviation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Politically Incorrect</td>
<td align="left">pol</td>
</tr>
<tr class="even">
<td align="left">High Resolution</td>
<td align="left">hr</td>
</tr>
<tr class="odd">
<td align="left">Traditional Games</td>
<td align="left">tg</td>
</tr>
<tr class="even">
<td align="left">Television &amp; Film</td>
<td align="left">tv</td>
</tr>
<tr class="odd">
<td align="left">Paranormal</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">Sh*t 4chan Says</td>
<td align="left">s4s</td>
</tr>
<tr class="odd">
<td align="left">Auto</td>
<td align="left">o</td>
</tr>
<tr class="even">
<td align="left">Advice</td>
<td align="left">adv</td>
</tr>
<tr class="odd">
<td align="left">Travel</td>
<td align="left">trv</td>
</tr>
<tr class="even">
<td align="left">Flash</td>
<td align="left">f</td>
</tr>
<tr class="odd">
<td align="left">Sports</td>
<td align="left">sp</td>
</tr>
<tr class="even">
<td align="left">My Little Politics</td>
<td align="left">mlpol</td>
</tr>
<tr class="odd">
<td align="left">Mecha &amp; Auto</td>
<td align="left">mo</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the fouRplebsAPI from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"buehlk/fouRplebsAPI"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="search-the-4chan-archive">Search the 4chan archive<a class="anchor" aria-label="anchor" href="#search-the-4chan-archive"></a>
</h3>
<p>While this package includes several funtions that allow researchers to query and inspect specific 4chan posts (get_4chan_post) or threads (get_4chan_thread), researchers wanting to collect data from the 4plebs archive will probably be interested in collecting a larger amount of data.</p>
<p>The <em>first</em> way of collecting data is by collecting the latest threads in a given board. Let’s say you are interested in the 20 latest threads from the “Advice” board (excluding the comments accompanying the opening post), one way of querying the data is:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/buehlk/fouRplebsAPI" class="external-link">fouRplebsAPI</a></span><span class="op">)</span>

<span class="va">recentAdv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_4chan_board_range.html">get_4chan_board_range</a></span><span class="op">(</span>board <span class="op">=</span> <span class="st">"adv"</span>, page_start <span class="op">=</span> <span class="fl">1</span>, page_stop <span class="op">=</span> <span class="fl">2</span>, latest_comments <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">recentAdv</span>, vec.len <span class="op">=</span> <span class="fl">1</span>, nchar.max <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    20 obs. of  15 variables:</span>
<span class="co">#&gt;  $ thread_id          : chr  "26643510" ...</span>
<span class="co">#&gt;  $ doc_id             : chr  "12946185" ...</span>
<span class="co">#&gt;  $ num                : chr  "26643510" ...</span>
<span class="co">#&gt;  $ subnum             : chr  "0" ...</span>
<span class="co">#&gt;  $ op                 : num  1 1 ...</span>
<span class="co">#&gt;  $ timestamp          : int  1654675661 1654675584 ...</span>
<span class="co">#&gt;  $ fourchan_date      : chr  "6/8/22(Wed)4:07" ...</span>
<span class="co">#&gt;  $ name               : chr  "Anonymous" ...</span>
<span class="co">#&gt;  $ title              : logi  NA ...</span>
<span class="co">#&gt;  $ referencing_comment: logi  NA ...</span>
<span class="co">#&gt;  $ comments           : chr  "Is it too late to reverse diabetes if your "| __truncated__ ...</span>
<span class="co">#&gt;  $ poster_country     : logi  NA ...</span>
<span class="co">#&gt;  $ nreplies           : logi  NA ...</span>
<span class="co">#&gt;  $ formatted          : logi  FALSE ...</span>
<span class="co">#&gt;  $ media_link         : logi  NA ...</span></code></pre></div>
<p>The output description can be found in the function documentations. Theoretically it would be possible to scrape vast ranges of the archive with this function, even though the API has an API rate limit, which slows down the querying process.</p>
<p>A <em>second</em> way collecting 4chan data with this package is the search function. 4plebs allows for a very detailed search with many search filter. I will show only simple examples of the data that can be collected with fouRplebsAPI.</p>
<p>The example I show here is rather cheerful, because I would like to avoid the more controversial topics for which 4chan, especially the /pol/ board is notorious. Researchers, for instance the ones interested in the political communication of actors with contentious ideologies, will find it easy to adapt this example. But this one is about vacation.</p>
<p>Let’s find the communication in the “Travel” board that discusses Mallorca, Spain.</p>
<p>First, to get a first impression of the search results, one can inspect a snippet of the 25 most recent posts containing the search term “mallorca”.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mallorca_snippet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_4chan_snippet.html">search_4chan_snippet</a></span><span class="op">(</span>boards <span class="op">=</span> <span class="st">"trv"</span>, start_date <span class="op">=</span> <span class="st">"2021-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2022-12-31"</span>, text <span class="op">=</span> <span class="st">"mallorca"</span><span class="op">)</span>
<span class="co">#&gt; The 1 - 25 oldest posts of the 78 total search results are shown.</span>
<span class="co">#&gt; Scraping all 78 results would take ~ 1.33 minutes.</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">mallorca_snippet</span>, vec.len <span class="op">=</span> <span class="fl">1</span>, nchar.max <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    25 obs. of  15 variables:</span>
<span class="co">#&gt;  $ thread_id          : chr  "1938850" ...</span>
<span class="co">#&gt;  $ doc_id             : chr  "1113628" ...</span>
<span class="co">#&gt;  $ num                : chr  "1938924" ...</span>
<span class="co">#&gt;  $ subnum             : chr  "0" ...</span>
<span class="co">#&gt;  $ op                 : num  0 1 ...</span>
<span class="co">#&gt;  $ timestamp          : int  1610611412 1611403974 ...</span>
<span class="co">#&gt;  $ fourchan_date      : chr  "1/14/21(Thu)3:03" ...</span>
<span class="co">#&gt;  $ name               : chr  "Anonymous" ...</span>
<span class="co">#&gt;  $ title              : chr  NA ...</span>
<span class="co">#&gt;  $ referencing_comment: chr  "1938909\n" ...</span>
<span class="co">#&gt;  $ comments           : chr  "&gt;got murdered and/or raped in shitholes ove"| __truncated__ ...</span>
<span class="co">#&gt;  $ poster_country     : logi  NA ...</span>
<span class="co">#&gt;  $ nreplies           : int  NA 13 ...</span>
<span class="co">#&gt;  $ formatted          : logi  FALSE ...</span>
<span class="co">#&gt;  $ media_link         : chr  NA ...</span></code></pre></div>
<p>Note that the function search_4chan_snippet() also prints the total number of search results and the estimated time to retrieve them with search_4chan(). This estimation is based on 5 requests per minute API limit.</p>
<p>Users only interested in the number of results can just retrieve them by changing the parameter result_type to “results_num”. Now one can compare the number of posts mentioning Mallorca between different time periods. For example, pre-pandemic vs. post-pandemic:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mallorca_pre</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_4chan_snippet.html">search_4chan_snippet</a></span><span class="op">(</span>boards <span class="op">=</span> <span class="st">"trv"</span>, start_date <span class="op">=</span> <span class="st">"2018-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2019-12-31"</span>, text <span class="op">=</span> <span class="st">"mallorca"</span>, result_type <span class="op">=</span> <span class="st">"results_num"</span><span class="op">)</span>
<span class="va">mallorca_post</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_4chan_snippet.html">search_4chan_snippet</a></span><span class="op">(</span>boards <span class="op">=</span> <span class="st">"trv"</span>, start_date <span class="op">=</span> <span class="st">"2020-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2021-12-31"</span>, text <span class="op">=</span> <span class="st">"mallorca"</span>, result_type <span class="op">=</span> <span class="st">"results_num"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Years"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2018 &amp; 2019"</span>, <span class="st">"2020 &amp; 2021"</span><span class="op">)</span>,
       <span class="st">"Total results"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">mallorca_pre</span><span class="op">[</span><span class="st">"total_found"</span><span class="op">]</span>, <span class="va">mallorca_post</span><span class="op">[</span><span class="st">"total_found"</span><span class="op">]</span><span class="op">)</span>
       <span class="op">)</span>
<span class="co">#&gt;         Years Total.results</span>
<span class="co">#&gt; 1 2018 &amp; 2019            86</span>
<span class="co">#&gt; 2 2020 &amp; 2021            99</span></code></pre></div>
<p>It seems that this island has been mentioned more as people tended to stay home.</p>
<p>Researchers interested in gathering more data than just a snippet of the posts can use the function search_4chan(). Staying with the example of posts mentioning Mallorca over time, one could be inclined to ask, whether the image of Mallorca has changed during the pandemic. Apart from simply getting <em>all</em> the posts mentioning a search term, it is for example possible to filter for posts containing image data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mallorca_pre_pics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_4chan.html">search_4chan</a></span><span class="op">(</span>boards <span class="op">=</span> <span class="st">"trv"</span>, start_date <span class="op">=</span> <span class="st">"2018-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2019-12-31"</span>, text <span class="op">=</span> <span class="st">"mallorca"</span>, show_only <span class="op">=</span> <span class="st">"image"</span><span class="op">)</span>
<span class="co">#&gt; [1] "Approximate time: 0.33 minutes."</span>
<span class="va">mallorca_post_pics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_4chan_snippet.html">search_4chan_snippet</a></span><span class="op">(</span>boards <span class="op">=</span> <span class="st">"trv"</span>, start_date <span class="op">=</span> <span class="st">"2018-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2019-12-31"</span>, text <span class="op">=</span> <span class="st">"mallorca"</span>, show_only <span class="op">=</span> <span class="st">"image"</span><span class="op">)</span>
<span class="co">#&gt; The 1 - 16 oldest posts of the 16 total search results are shown.</span>
<span class="co">#&gt; Scraping all 16 results would take ~ 0.33 minutes.</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mallorca_post_pics</span><span class="op">$</span><span class="va">media_link</span><span class="op">)</span>
<span class="co">#&gt; [1] "http://i.4pcdn.org/trv/1521713616876.jpg"</span>
<span class="co">#&gt; [2] "http://i.4pcdn.org/trv/1525249686528.jpg"</span>
<span class="co">#&gt; [3] "http://i.4pcdn.org/trv/1527534752103.jpg"</span>
<span class="co">#&gt; [4] "http://i.4pcdn.org/trv/1527865867839.jpg"</span>
<span class="co">#&gt; [5] "http://i.4pcdn.org/trv/1533082869505.jpg"</span>
<span class="co">#&gt; [6] "http://i.4pcdn.org/trv/1547062117808.jpg"</span></code></pre></div>
<p>The column media_link provides the downloadable image links of the posts retrieved.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
